!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){var n=this;function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.addEventListener("DOMContentLoaded",(function(){var e,t=r(document.querySelectorAll(".js-open-popup")),i=document.querySelectorAll(".popup");function o(e){var t=document.documentElement.clientHeight;this.pageYOffset+t>=e&&window.scrollTo(0,e-t)}t.map((function(t){t.addEventListener("click",(function(){var n=this.dataset.popup,r=document.getElementById(n);r.classList.add("active");var i=r.querySelector(".popup__dialog"),c=document.documentElement.clientWidth;if(r.classList.contains("popup_left")&&c>995){var s=t.getBoundingClientRect(),l=s.width/2+s.left;i.style.left="".concat(l,"px")}if(r.classList.contains("popup_right")&&c>995){var a=t.getBoundingClientRect(),u=-(c-i.clientWidth-a.width/2-(c-a.right));i.style.right="".concat(u,"px")}var d=i.clientHeight+82;c<=767&&(console.log(1),r.style.height="".concat(d,"px"),e=o.bind(window,d),window.addEventListener("scroll",e,!0)),window.onresize=function(){var e=t.getBoundingClientRect(),n=document.documentElement.clientWidth;if(r.classList.contains("popup_left")&&n>995){var o=e.width/2+e.left;i.style.left="".concat(o,"px")}else n<=995&&(i.style.left="");if(r.classList.contains("popup_right")&&n>995){var c=-(n-i.clientWidth-e.width/2-(n-e.right));i.style.right="".concat(c,"px")}else n<=995&&(i.style.right="")}}))})),i.forEach((function(t){t.addEventListener("click",(function(n){var r=n.target.closest(".popup__close-btn"),i=n.target.classList.contains("active"),o=t.querySelector(".popup__dialog");(r||i)&&(this.classList.remove("active"),this.style.height="",o.style.left=o.style.right="",window.removeEventListener("scroll",e,!0))}))}));var c=document.querySelectorAll("input[type=tel]"),s=/^\+7\s\d{3}\s\d{3}\s\d{4}$/;function l(e,t){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}}function a(e){var t="+7 ___ ___ ____",n=0,r=t.replace(/\D/g,""),i=this.value.replace(/\D/g,"");r.length>=i.length&&(i=r),t=t.replace(/[_\d]/g,(function(e){return i.charAt(n++)||"_"})),this.value=t,(n=t.lastIndexOf(i.substr(-1)))<t.length&&"+7 ___ ___ ____"!=t?n++:n=t.indexOf("_"),l(n,this)}c.forEach((function(e){var t=e.nextElementSibling.querySelector("span");e.addEventListener("focus",(function(){e.classList.remove("error","filled"),t.textContent="Контактный телефон"})),e.addEventListener("blur",(function(){s.test(e.value)?(e.classList.remove("error"),e.classList.add("filled"),t.textContent="Контактный телефон"):(e.classList.remove("filled"),e.classList.add("error"),t.textContent="Проверьте набранный номер")})),e.addEventListener("input",a),l(3,e)}));var u=document.querySelector("form");u.addEventListener("submit",(function(e){e.preventDefault();var t=this.querySelector("input[type=tel]"),n=t.nextElementSibling.querySelector("span"),r=this.querySelector("button[type=submit]"),i=this.parentNode,o=i.querySelector(".feedback__card__text");if(s.test(t.value)){r.disabled=!0;var c=new FormData(this);(function(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)})})("https://jsonplaceholder.typicode.com/posts",c=Object.fromEntries(c)).then((function(e){e.ok&&(i.classList.add("success"),o.innerHTML="Спасибо, что оставили заявку. <br> Мы скоро вам перезвоним.",t.classList.remove("filled"),u.reset())})).catch((function(e){return console.error(e)}))}else t.classList.add("error"),n.textContent="Проверьте набранный номер"}));var d=r(document.querySelectorAll(".slider .slider__item")),f=d[0].cloneNode(!0);function p(e){var t=d[e],n=e+1===d.length?0:e+1,r=d[n];t.classList.add("animate"),r.classList.add("animate"),setTimeout((function(){t.classList.remove("slider__item_current","animate"),r.classList.remove("slider__item_next","animate"),m(n)}),600)}function m(e){var t=d[e],n=d[e+1===d.length?0:e+1];t.classList.add("slider__item_current"),n.classList.add("slider__item_next")}f.classList.add("slider__hide"),document.querySelector(".slider").insertAdjacentElement("afterbegin",f),d.map((function(e,t){e.querySelector(".slider__next-btn").addEventListener("click",p.bind(n,t))})),m(0)}))}]);